
namespace Avoid {

template <int Args, class Derived, class Base>
struct Function_ExprTemplate : Base {
  DENSE_FUNCTION_BASE_TYPES(Base)

  template <class InType, class OutType>
  inline void compute_impl(ConstVectorBaseRef<InType> x,
                      ConstVectorBaseRef<OutType> fx_) const {
    typedef typename InType::Scalar Scalar;
    VectorBaseRef<OutType> fx = fx_.const_cast_derived();
  }
  template <class InType, class OutType, class JacType>
  inline void compute_jacobian_impl(ConstVectorBaseRef<InType> x,
                               ConstVectorBaseRef<OutType> fx_,
                               ConstMatrixBaseRef<JacType> jx_) const {
    typedef typename InType::Scalar Scalar;
    VectorBaseRef<OutType> fx = fx_.const_cast_derived();
    MatrixBaseRef<JacType> jx = jx_.const_cast_derived();
  }
  template <class InType, class OutType, class JacType, class AdjGradType,
            class AdjHessType, class AdjVarType>
  inline void compute_jacobian_adjointgradient_adjointhessian_impl(
      ConstVectorBaseRef<InType> x, ConstVectorBaseRef<OutType> fx_,
      ConstMatrixBaseRef<JacType> jx_, ConstVectorBaseRef<AdjGradType> adjgrad_,
      ConstMatrixBaseRef<AdjHessType> adjhess_,
      ConstVectorBaseRef<AdjVarType> adjvars) const {
    typedef typename InType::Scalar Scalar;
    VectorBaseRef<OutType> fx = fx_.const_cast_derived();
    MatrixBaseRef<JacType> jx = jx_.const_cast_derived();
    VectorBaseRef<AdjGradType> adjgrad = adjgrad_.const_cast_derived();
    MatrixBaseRef<AdjHessType> adjhess = adjhess_.const_cast_derived();
  }
};

template <int N>
struct TestFunction : VectorFunction<TestFunction, 1, 1> {
  using Base = VectorFunction<TestFunction, 1, 1>;
  DENSE_FUNCTION_BASE_TYPES(Base);

  template <class InType, class OutType>
  inline void compute(ConstVectorBaseRef<InType> x,
                      ConstVectorBaseRef<OutType> fx_) const {
    typedef typename InType::Scalar Scalar;
    VectorBaseRef<OutType> fx = fx_.const_cast_derived();
  }
};

}  // namespace Avoid